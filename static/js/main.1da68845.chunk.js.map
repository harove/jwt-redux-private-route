{"version":3,"sources":["logo.svg","store/login/selectors.js","store/login/types.js","store/login/actions.js","container/login-form/LoginForm.jsx","container/Login/Login.jsx","store/users/types.js","store/users/actions.js","store/users/selectors.js","container/users-list/UsersList.jsx","components/privateRoute/PrivateRoute.js","App.js","reportWebVitals.js","store/login/index.js","store/users/index.js","store/rootReducer.js","store/index.js","index.js"],"names":["userLoginSelector","state","LOGIN_USER","LOGIN_USER_INIT","LOGIN_USER_SUCCESS","LOGIN_USER_ERROR","userLogin","username","password","dispatch","type","loginFail","error","payload","fetch","method","headers","body","JSON","stringify","then","response","json","data","jwt","localStorage","loginSuccess","LoginForm","isLoading","useState","email2","form","setForm","useDispatch","handleInputChange","event","target","name","value","handleSubmit","useCallback","preventDefault","noValidate","autoComplete","onSubmit","className","id","placeholder","onChange","color","disabled","Login","userData","useSelector","Object","keys","length","loading","isError","LIST_USERS","LIST_USERS_INIT","LIST_USERS_SUCCESS","LIST_USERS_ERROR","usersList","usersFail","usersSelectorFunction","users","UsersList","useEffect","console","log","map","user","PrivateRoute","Component","component","isLogin","Rest","render","routeProps","to","App","login","success","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialStore","rootReducer","combineReducers","prevState","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1da68845.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export const userLoginSelector = state => state\n","const LOGIN_USER = 'LOGIN_USER';\nexport const LOGIN_USER_INIT = `${LOGIN_USER}_INIT`;\nexport const LOGIN_USER_SUCCESS = `${LOGIN_USER}_SUCCESS`;\nexport const LOGIN_USER_ERROR = `${LOGIN_USER}_ERROR`;","import { LOGIN_USER_ERROR, LOGIN_USER_INIT, LOGIN_USER_SUCCESS } from \"./types\";\n\nexport const userLogin = ({ username, password }) => {\n  return (dispatch) => {\n    dispatch({ type: LOGIN_USER_INIT });\n\n    const loginSuccess = (username) => {    \n      dispatch({ type: LOGIN_USER_SUCCESS, payload: username });\n    };\n    const loginFail = (error) => {\n      dispatch({ type: LOGIN_USER_ERROR, payload: error });\n    };\n    \n    try {\n      fetch(\"https://mock-server-dl.herokuapp.com/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username,\n          password,\n        }),\n      }).then((response)=>{\n        return response.json()\n      }).then((data)=>{\n        if (data.jwt){\n          localStorage.jwt=data.jwt\n          loginSuccess(username);\n        }\n        else\n          loginFail(data.error);\n      })\n    } catch (error) {\n      loginFail(error);\n    }\n  };\n};\n\n","import React, { useState, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { userLogin } from \"../../store/login/actions\";\n\nexport const LoginForm = ({ isLoading }) => {\n  const [form, setForm] = useState({\n    username: \"\",\n    password: \"\",\n    email2:\"email2\"\n  });\n  const dispatch = useDispatch();\n\n  const handleInputChange = (event) => {\n      const target = event.target;\n      setForm({\n        ...form,\n        [target.name]: target.value,\n      });\n    }\n\n  const handleSubmit = useCallback(\n    (event) => {\n      event.preventDefault();\n      dispatch(userLogin(form));\n    },\n    [dispatch, form]\n  );\n\n  return (\n    <form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n      <div className=\"card\">\n        <input\n          id='username'\n          name=\"username\"\n          className=\"form-control username\"\n          placeholder=\"username\"\n          onChange={handleInputChange}\n          value={form.username}\n        />\n      </div>\n      <div className=\"card\">\n        <input\n          name=\"email\"\n          className=\"form-control email d-none\"\n          placeholder=\"email2\"\n          onChange={handleInputChange}\n          value={form.email2}\n        />\n      </div>\n      <div className=\"card\">\n        <input\n          id=\"password\"\n          name=\"password\"\n          className=\"form-control\"\n          placeholder=\"Password\"\n          type=\"password\"\n          onChange={handleInputChange}\n          value={form.password}\n        />\n      </div>\n      <div className=\"card\">\n        <button\n          id=\"buttonSubmit\"\n          className=\"btn btn-primary\"\n          color=\"primary\"\n          disabled={isLoading}\n          type=\"submit\"\n        >\n          {isLoading ? \"Loading...\" : \"Submit\"}\n        </button>\n      </div>\n    </form>\n  );\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { userLoginSelector } from \"../../store/login/selectors\";\nimport { LoginForm } from \"../login-form/LoginForm\";\n\nexport const Login = () => {\n  const userData = useSelector(userLoginSelector);\n\n  if (userData.data && Object.keys(userData.data).length > 0) {\n    return (\n      <div className=\"card\">\n        <p id=\"log-success\">\n          Logged in as <b>{userData.data}</b>\n        </p>\n      </div>\n    );\n  }\n\n  const isLoading = userData.loading;\n  const isError = userData.error;\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-6 offset-md-3 mt-5\">\n        <LoginForm isLoading={isLoading} />\n        {isError && (\n          <div className=\"card\">\n            <p id=\"paragraph\">\n              <b>Error: </b> {userData.error}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","const LIST_USERS = 'LIST_USERS';\nexport const LIST_USERS_INIT = `${LIST_USERS}_INIT`;\nexport const LIST_USERS_SUCCESS = `${LIST_USERS}_SUCCESS`;\nexport const LIST_USERS_ERROR = `${LIST_USERS}_ERROR`;","import { LIST_USERS_INIT, LIST_USERS_SUCCESS, LIST_USERS_ERROR } from \"./types\";\n\nexport const usersList = () => {\n  return (dispatch) => {\n    dispatch({ type: LIST_USERS_INIT });\n\n    const usersSuccess = (users) => {    \n      dispatch({ type: LIST_USERS_SUCCESS, payload: users });\n    };\n    const usersFail = (error) => {\n      dispatch({ type: LIST_USERS_ERROR, payload: error });\n    };\n    \n    try {\n      fetch(\"https://mock-server-dl.herokuapp.com/users\", {\n        method: \"GET\",\n        headers: {'Authorization':`Bearer ${localStorage.jwt}`}\n      }).then((response)=>{\n        return response.json()\n      }).then((data)=>{\n        if (data){\n          usersSuccess(data);\n        }\n        else\n          usersFail(data.error);\n      })\n    } catch (error) {\n      usersFail(error);\n    }\n  };\n};\n\n","\n\nexport const usersSelectorFunction = state => state.users.data\n\n\n","import React, {useEffect} from 'react'\nimport {useDispatch} from 'react-redux'\nimport { usersList } from '../../store/users/actions'\nimport { usersSelectorFunction } from '../../store/users/selectors'\nimport {useSelector} from 'react-redux'\n\nfunction UsersList() {\n    const users = useSelector(usersSelectorFunction)\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        console.log(users)\n        debugger\n        dispatch(usersList())\n    }, [])\n\n\n    return (\n        <div>\n            {users.map(user=>{\n                return <div> {user.name}     </div>\n            })}\n        </div>\n    )   \n}\n\nexport default UsersList\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nconst PrivateRoute = ({component: Component, isLogin, ...Rest}: Props) => {\n  // const isLogin = useSelector((state:any) => state.login.isLogin)\n  return isLogin ? <Route {...Rest} render={routeProps=><Component {...routeProps}/>}  /> : <Redirect to=\"/\" />;\n};\n\nexport default PrivateRoute;\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { Login } from \"./container/Login/Login\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n} from \"react-router-dom\";\nimport UsersList from \"./container/users-list/UsersList\";\nimport PrivateRoute from \"./components/privateRoute/PrivateRoute\";\nimport { useSelector } from \"react-redux\";\n\nfunction App() {\n  const isLogin = useSelector(state => state.login.success)\n  debugger\n\n  return (\n    <div className=\"App container\">\n      <Router>\n        <nav className=\"navbar\">\n          <ul>\n            <li>\n              <NavLink className=\"nav-item\" to=\"/\">Home</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/users\">Users</NavLink>\n            </li>\n          </ul>\n        </nav>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Login />\n          </Route>\n          <PrivateRoute path=\"/users\" isLogin={isLogin} component={UsersList}  exact/>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { LOGIN_USER_ERROR, LOGIN_USER_INIT, LOGIN_USER_SUCCESS } from \"./types\";\nconst initialStore = {\n  data: {},\n  error: null,\n  success: null,\n  loading: false,\n};\n\n\nexport const loginReducer = (prevState = initialStore, action) => {\n  switch (action.type) {\n    case LOGIN_USER_INIT:\n      return {...prevState,\n        loading: true,\n      };\n    case LOGIN_USER_SUCCESS:\n      return {...prevState, \n        data: action.payload,\n        error: false,\n        success: true,\n        loading: false,\n      };\n    case LOGIN_USER_ERROR:\n      return {...prevState,\n        error: action.payload,\n        success: false,\n        loading: false,\n      };\n    default:\n      return prevState;\n  }\n};\n","import { LIST_USERS_INIT, LIST_USERS_SUCCESS, LIST_USERS_ERROR } from \"./types\";\nconst initialStore = {\n  data: [],\n  error: null,\n  success: null,\n  loading: false,\n};\n\n\nexport const usersReducer = (prevState = initialStore, action) => {\n  switch (action.type) {\n    case LIST_USERS_INIT:\n      return {...prevState,\n        loading: true,\n      };\n    case LIST_USERS_SUCCESS:\n      return {...prevState, \n        data: action.payload,\n        error: false,\n        success: true,\n        loading: false,\n      };\n    case LIST_USERS_ERROR:\n      return {...prevState,\n        error: action.payload,\n        success: false,\n        loading: false,\n      };\n    default:\n      return prevState;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { loginReducer } from \"./login\";\nimport { usersReducer } from \"./users\";\n\n\nconst rootReducer = combineReducers({\n    login: loginReducer,\n    users: usersReducer\n})\n\nexport default rootReducer","import { createDispatchHook } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { loginReducer } from \"./login\";\nimport rootReducer from \"./rootReducer\"\n\nconst store = createStore(rootReducer,composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from './store'\nimport 'bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}