(this["webpackJsonptesting-class"]=this["webpackJsonptesting-class"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(14),s=c.n(r),o=(c(31),c.p,c(32),c(5)),i=c(16),l=c(4),d=c(25),j=c(3),u=c(21),b=(Object(u.a)(),"LOGIN_USER"),O="".concat(b,"_INIT"),h="".concat(b,"_SUCCESS"),m="".concat(b,"_ERROR"),p=function(e,t){var c=e.username,n=e.password;return function(e){e({type:O});var a=function(t){e({type:m,payload:t})};try{fetch("https://mock-server-dl.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:n})}).then((function(e){return e.json()})).then((function(n){n.jwt?(localStorage.jwt=n.jwt,function(t){e({type:h,payload:t})}(c),t()):a(n.error)}))}catch(r){a(r)}}},f=c(1),v=function(e){e.isLoading;var t=Object(o.c)((function(e){return e.users.loadingUsers})),c=Object(j.g)(),a=Object(n.useState)({username:"",password:"",email2:"email2"}),r=Object(d.a)(a,2),s=r[0],u=r[1],b=Object(o.b)(),O=function(e){var t=e.target;u(Object(l.a)(Object(l.a)({},s),{},Object(i.a)({},t.name,t.value)))},h=function(){return c.push("/users")};return Object(f.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),b(p(s,h))},children:[Object(f.jsx)("div",{className:"card",children:Object(f.jsx)("input",{id:"username",name:"username",className:"form-control username",placeholder:"username",onChange:O,value:s.username})}),Object(f.jsx)("div",{className:"card",children:Object(f.jsx)("input",{name:"email",className:"form-control email d-none",placeholder:"email2",onChange:O,value:s.email2})}),Object(f.jsx)("div",{className:"card",children:Object(f.jsx)("input",{id:"password",name:"password",className:"form-control",placeholder:"Password",type:"password",onChange:O,value:s.password})}),Object(f.jsx)("div",{className:"card",children:Object(f.jsx)("button",{id:"buttonSubmit",className:"btn btn-primary",color:"primary",disabled:t,type:"submit",children:t?"Loading...":"Submite"})})]})},g=function(){var e=Object(o.c)((function(e){return e.users})),t=Object(o.c)((function(e){return e.users.loading})),c=Object(o.c)((function(e){return e.login.data})),n=Object(o.c)((function(e){return e.login.loading}));if(e.data&&Object.keys(e.data).length>0)return Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("p",{id:"log-success",children:["Logged in as ",Object(f.jsx)("b",{children:c})]})});var a=e.error;return n?"loading":Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-md-6 offset-md-3 mt-5",children:[Object(f.jsx)(v,{isLoading:t}),a&&Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("p",{id:"paragraph",children:[Object(f.jsx)("b",{children:"Error: "})," ",e.error]})})]})})},x=c(9),y="LIST_USERS",N="".concat(y,"_INIT"),S="".concat(y,"_SUCCESS"),w="".concat(y,"_ERROR"),C=function(){return function(e){e({type:N});var t=function(t){e({type:w,payload:t})};try{fetch("https://mock-server-dl.herokuapp.com/users",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.jwt)}}).then((function(e){return e.json()})).then((function(c){c?e({type:S,payload:c}):t(c.error)}))}catch(c){t(c)}}};var L=function(){var e=Object(o.c)((function(e){return e.users.data})),t=Object(o.b)();return Object(n.useEffect)((function(){t(C())}),[]),Object(f.jsx)("div",{children:e.map((function(e){return Object(f.jsx)("div",{className:"list-group-item",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-4",children:e.name}),Object(f.jsx)("div",{className:"col-4",children:e.username}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(x.b,{to:"/users/remove/".concat(e.email),className:"btn btn-danger",children:"delete"})})]})})}))})},E=c(26),U=["component","isLogin"],R=function(e){var t=e.component,c=e.isLogin,n=Object(E.a)(e,U);return c?Object(f.jsx)(j.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return Object(f.jsx)(t,Object(l.a)({},e))}})):Object(f.jsx)(j.a,{to:"/"})};var T=function(){var e=Object(j.h)().id;return Object(f.jsxs)("div",{children:["seguro deseas borrar a ",e]})};var I=function(){var e=Object(o.c)((function(e){return e.login.success}));return Object(f.jsx)("div",{className:"App container",children:Object(f.jsxs)(x.a,{children:[Object(f.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(f.jsxs)("ul",{className:"navbar-nav",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(x.c,{to:"/",children:"Home"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(x.c,{to:"/users",children:"Users"})})]})}),Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/",exact:!0,children:Object(f.jsx)(g,{})}),Object(f.jsx)(j.b,{path:"/users/remove/:id",children:Object(f.jsx)(T,{})}),Object(f.jsx)(R,{path:"/users",isLogin:e,component:L,exact:!0})]})]})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},k=c(11),F=c(23),P=c(24),B={data:{},error:null,success:null,loading:!1},D={data:[],error:null,success:null,loadingUsers:!1},J=Object(k.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case h:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload,error:!1,success:!0,loading:!1});case m:return Object(l.a)(Object(l.a)({},e),{},{error:t.payload,success:!1,loading:!1});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(l.a)(Object(l.a)({},e),{},{loadingUsers:!0});case S:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload,error:!1,success:!0,loadingUsers:!1});case w:return Object(l.a)(Object(l.a)({},e),{},{error:t.payload,success:!1,loadingUsers:!1});default:return e}}}),A=Object(k.createStore)(J,Object(F.composeWithDevTools)(Object(k.applyMiddleware)(P.a)));c(39);s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(o.a,{store:A,children:Object(f.jsx)(I,{})})}),document.getElementById("root")),_()}},[[40,1,2]]]);
//# sourceMappingURL=main.1af3b65f.chunk.js.map